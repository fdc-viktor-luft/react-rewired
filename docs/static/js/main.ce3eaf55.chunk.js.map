{"version":3,"sources":["react-rewired/index.js","store.js","RerenderCounter.js","Ball.js","DisplayValues.js","App.js","index.js"],"names":["_symbol","Symbol","for","String","$$node","$$data","node","data","_set","s","param","nextParams","_update","p","n","r","keys","Object","index","length","key","prev","next","rootFor","Context","Store","_React$Component","WiredRoot","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","m","update","setState","setStore","d","state","componentDidMount","set","componentWillUnmount","render","react_default","a","createElement","Provider","value","props","children","inherits","React","Component","Wired","initialData","_s","createContext","get","defineProperty","undefined","storeToProps","MC","memo","Consumer","store","assign","root","ball","position","top","left","color","rerenders","App","Ball","increaseCounterNextTick","name","window","setTimeout","_ref","increaseCounter","RerenderCounter","_ref2","wire","className","style","backgroundColor","sanitize","str","replace","span","withMargin","innerHTML","htmlForObject","o","_htmlForObject","result","firstValue","hasOwnProperty","valueType","isArray","JSON","stringify","DisplayValues","dangerouslySetInnerHTML","__html","randomColor","Math","floor","random","toString","stopEventPropagation","event","stopPropagation","_Component","recording","replaying","recorded","delegateBall","nextPosition","clientY","scrollY","clientX","scrollX","toConsumableArray","record","replay","forEach","v","i","deleteRecords","changeColor","createClass","onClick","disabled","DisplayValues_DisplayValues","href","document","getElementById","ReactDOM","store_Store","App_App"],"mappings":"2QA4BMA,EAAWC,QAAUA,OAAOC,KAAQC,OACpCC,EAAcJ,EAAQ,kBACtBK,EAAcL,EAAQ,kBAEtBM,EAAO,SAAYC,GAErB,OADAA,EAAKH,IAAU,EACRG,GAsBLC,EAAO,SAAgBC,EAAsBC,GAC/C,IAAMC,EAA8B,oBAAVD,EAAuBA,EAAMD,EAAEJ,IAAWK,EACpED,EAAEJ,GApBU,SAAVO,EAA0BC,EAAUC,GAGtC,IAFA,IAAMC,EAAI,GACJC,EAAOC,OAAOD,KAAKH,GAChBK,EAAQ,EAAGA,EAAQF,EAAKG,OAAQD,IAAS,CAC9C,IAAME,EAAMJ,EAAKE,GACXG,EAAOR,EAAEO,GACTE,EAAOR,EAAEM,GACTA,KAAON,GAAMO,IAASC,EAEjBD,GAAQA,EAAKjB,GACpBW,EAAEK,GAAOd,EAAKM,EAAQS,EAAMC,IAE5BP,EAAEK,GAAOE,EAJTP,EAAEK,GAAOC,EAOjB,OAAQN,EAKIH,CAAQH,EAAEJ,GAASM,IAyB7BY,EAAU,SAAgBC,EAAcC,GAA9B,gBAAAC,GAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAZ,OAAAa,EAAA,EAAAb,CAAAc,KAAAJ,GAAA,QAAAK,EAAAC,UAAAd,OAAAe,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAP,EAAAZ,OAAAoB,EAAA,EAAApB,CAAAc,MAAAH,EAAAX,OAAAqB,EAAA,EAAArB,CAAAU,IAAAY,KAAAC,MAAAZ,EAAA,CAAAG,MAAAU,OAAAP,MAERQ,GAAI,EAFIb,EAGRc,OAAS,kBAAMd,EAAKa,GAAKb,EAAKe,SAAS,CAAEnC,EAAGgB,EAAMpB,MAH1CwB,EAIRgB,SAAW,SAAIC,GACXtC,EAAKiB,EAAQqB,GACbjB,EAAKc,UANDd,EAQRkB,MAAQ,CAAEtC,EAAGgB,EAAMpB,IARXwB,EASRmB,kBAAoB,WAChBvB,EAAMwB,IAAMpB,EAAKgB,SACbpB,EAAMpB,KAAYwB,EAAKkB,MAAMtC,GAAGoB,EAAKc,UAXrCd,EAaRqB,qBAAuB,WACnBrB,EAAKa,GAAI,GAdLb,EAgBRsB,OAAS,kBAAMC,EAAAC,EAAAC,cAAC9B,EAAQ+B,SAAT,CAAkBC,MAAO3B,EAAKkB,MAAMtC,GAAIoB,EAAK4B,MAAMC,WAhB1D7B,EAAA,OAAAZ,OAAA0C,EAAA,EAAA1C,CAAAU,EAAAD,GAAAC,EAAA,CACYiC,IAAMC,YAkBrBC,EAAiBxD,ECtFjBmB,ED6CC,SAAgBsC,GAA0C,IAAAC,EAC9DxC,EAAUoC,IAAMK,cAAcF,GAC9BtD,GAACuD,EAAA,CACHf,IAAK,SAACH,GAAD,OAAsCtC,EAAMC,EAASqC,IAC1DoB,IAAK,kBAAMzD,EAAEJ,KAFVY,OAAAkD,EAAA,EAAAlD,CAAA+C,EAGF3D,EAAS0D,GAHP9C,OAAAkD,EAAA,EAAAlD,CAAA+C,EAAA,YAIKI,GAJLnD,OAAAkD,EAAA,EAAAlD,CAAA+C,EAAA,OAKG,SACFH,EACAQ,GAEA,IAAMC,EAAMV,IAAYW,KAAKV,GAI7B,OAHqB,SAAChD,GAAD,OACjBuC,EAAAC,EAAAC,cAAC9B,EAAQgD,SAAT,KAAmB,SAAAC,GAAK,OAAIrB,EAAAC,EAAAC,cAACgB,EAADrD,OAAAyD,OAAA,GAAQL,EAAaI,GAAY5D,SAXlEmD,GAiBP,OADAvD,EAAEkE,KAAOpD,EAAQC,EAASf,GACnBA,EChEUqD,CAAmB,CACpCc,KAAMd,EAZ0B,CAAEe,SAAU,CAAEC,IAAK,IAAKC,KAAM,KAAOC,MAAO,YAa5EC,UAAWnB,EATqB,CAAEoB,IAAK,EAAGC,KAAM,MCF9CC,EAA0B,SAACC,GAAD,OAAwBC,OAAOC,WAAW,kBAHlD,SAACF,GAAD,OACpB5D,EAAMwB,IAAI,SAAAuC,GAAA,IAAGP,EAAHO,EAAGP,UAAH,MAAoB,CAAEA,UAAUhE,OAAAkD,EAAA,EAAAlD,CAAA,GAAIoE,EAAOJ,EAAUI,GAAQ,MAEKI,CAAgBJ,IAAO,IAI1FK,EAAkB,SAAAC,GAAoC,IAAjCN,EAAiCM,EAAjCN,KAE9B,OADAD,EAAwBC,GACjB,MCUEF,EAAO1D,EAAMmE,KAZJ,SAAAJ,GAAA,IAAGR,EAAHQ,EAAGR,MAAOF,EAAVU,EAAUV,IAAKC,EAAfS,EAAeT,KAAf,OAClB3B,EAAAC,EAAAC,cAAA,OACIuC,UAAU,OACVC,MAAO,CACHC,gBAAiBf,EACjBF,IAAKA,EAAM,GAAK,KAChBC,KAAMA,EAAO,GAAK,OAEtB3B,EAAAC,EAAAC,cAACoC,EAAD,CAAiBL,KAAK,WAI8C,SAACtC,GAAD,MAAmB,CAC3F+B,IAAK/B,EAAM6B,KAAKC,SAASC,IACzBC,KAAMhC,EAAM6B,KAAKC,SAASE,KAC1BC,MAAOjC,EAAM6B,KAAKI,SCdhBgB,SAAW,SAACC,GACd,OAAOA,EAAIC,QAAQ,KAAM,QAAQA,QAAQ,KAAM,UAG7CC,EAAO,SAACN,EAAmBrC,GAApB,sBAAAf,OAA8DoD,EAA9D,MAAApD,OAA4Ee,EAA5E,YAEP4C,EAAa,SAACC,GAAD,8BAAA5D,OAAuD4D,EAAvD,eAyCbC,EAAgB,SAACC,GAAD,iBAAA9D,OAAkC2D,EAvCjC,SAAjBI,EAAkBD,GAA0D,IAC1EE,EAAS,GACTC,IAF0EzE,UAAAd,OAAA,QAAAiD,IAAAnC,UAAA,KAAAA,UAAA,GAG9E,IAAK,IAAIb,KAAOmF,EACZ,GAAIA,EAAEI,eAAevF,GAAM,CACvB,IAAMoC,EAAQ+C,EAAEnF,GACXsF,EAGDA,GAAa,EAFbD,GAAU,WAIdA,GAAUN,EAAK,OAAQ/E,GACvBqF,GAAU,KACV,IAAMG,EAAsB,OAAVpD,EAAiB,cAAgBA,EACnD,OAAQoD,GACJ,IAAK,SACDH,GAAUN,EAAK,SAAD,IAAA1D,OAAeuD,EAAUxC,GAAzB,MACd,SACJ,IAAK,UACL,IAAK,SACL,IAAK,YACL,IAAK,OACDiD,GAAUN,EAAKS,EAAWzG,OAAOqD,IACjC,SACJ,IAAK,SACGrB,MAAM0E,QAAQrD,GACdiD,GAAUT,EAASc,KAAKC,UAAUvD,IAElCiD,GAAM,QAAAhE,OAAY2D,EAAWI,EAAgBhD,IAAvC,QAEV,SACJ,QACIiD,GAAUT,EAASc,KAAKC,UAAUvD,KAIlD,OAAOiD,EAGwDD,CAAeD,IAA5D,UAYTS,EAAgBvF,EAAMmE,KANJ,SAAAJ,GAAA,IAAGjF,EAAHiF,EAAGjF,KAAH,OAC3B6C,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAM2D,wBAAyB,CAAEC,OAAQZ,EAAc/F,QAM3D,SAAAwC,GAAK,MAAK,CACNxC,KAAMwC,KClERoE,EAAc,iBAAM,UAAUjB,QAAQ,KAAM,kBAAMkB,KAAKC,MAAsB,GAAhBD,KAAKE,UAAeC,SAAS,OAE1FC,EAAuB,SAAAC,GAAK,OAAIA,EAAMC,mBAK/BxC,EAAb,SAAAyC,GAAA,SAAAzC,IAAA,IAAAtD,EAAAC,EAAAZ,OAAAa,EAAA,EAAAb,CAAAc,KAAAmD,GAAA,QAAAlD,EAAAC,UAAAd,OAAAe,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAP,EAAAZ,OAAAoB,EAAA,EAAApB,CAAAc,MAAAH,EAAAX,OAAAqB,EAAA,EAAArB,CAAAiE,IAAA3C,KAAAC,MAAAZ,EAAA,CAAAG,MAAAU,OAAAP,MACIa,MAAkB,CAAE6E,WAAW,EAAOC,WAAW,EAAOC,SAAU,IADtEjG,EAEIkG,aAAe,SAACN,GACZ,IAAMO,EAAe,CAAElD,IAAK2C,EAAMQ,QAAU3C,OAAO4C,QAASnD,KAAM0C,EAAMU,QAAU7C,OAAO8C,SACrFvG,EAAKkB,MAAM6E,WAAW/F,EAAKe,SAAS,SAAAG,GAAK,MAAK,CAAE+E,SAAS7G,OAAAoH,EAAA,EAAApH,CAAK8B,EAAM+E,UAAZrF,OAAA,CAAsBuF,OAClFvG,EAAMwB,IAAI,CAAE2B,KAAM,CAAEC,SAAUmD,MALtCnG,EAOIyG,OAAS,kBAAMzG,EAAKe,SAAS,SAAAG,GAAK,MAAK,CAAE6E,WAAY7E,EAAM6E,cAP/D/F,EAQI0G,OAAS,WACD1G,EAAKkB,MAAM+E,SAAS3G,SACpBU,EAAKe,SAAS,CAAEiF,WAAW,IAC3BhG,EAAKkB,MAAM+E,SAASU,QAAQ,SAACC,EAAGC,GAAJ,OACxBpD,OAAOC,WAAW,kBAAM9D,EAAMwB,IAAI,CAAE2B,KAAM,CAAEC,SAAU4D,EAAGzD,MAAOmC,QAAwB,IAAJuB,KAExFpD,OAAOC,WAAW,kBAAM1D,EAAKe,SAAS,CAAEiF,WAAW,KAAuC,IAA7BhG,EAAKkB,MAAM+E,SAAS3G,UAd7FU,EAiBI8G,cAAgB,kBAAM9G,EAAKkB,MAAM+E,SAAS3G,QAAUU,EAAKe,SAAS,CAAEkF,SAAU,MAjBlFjG,EAkBI+G,YAAc,kBAAMnH,EAAMwB,IAAI,CAAE2B,KAAM,CAAEI,MAAOmC,QAlBnDtF,EAAA,OAAAZ,OAAA0C,EAAA,EAAA1C,CAAAiE,EAAAyC,GAAA1G,OAAA4H,EAAA,EAAA5H,CAAAiE,EAAA,EAAA9D,IAAA,SAAAoC,MAAA,WAoBQ,OACIJ,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,OACXzC,EAAAC,EAAAC,cAAA,UAAQuC,UAAU,cACdzC,EAAAC,EAAAC,cAAA,MAAIuC,UAAU,aAAd,6BAEJzC,EAAAC,EAAAC,cAAA,UAAQuC,UAAU,SAASiD,QAAS/G,KAAKuG,OAAQS,SAAUhH,KAAKgB,MAAM8E,WACjE9F,KAAKgB,MAAM6E,WAAaxE,EAAAC,EAAAC,cAAA,QAAMuC,UAAU,cAD7C,UAIAzC,EAAAC,EAAAC,cAAA,UAAQuC,UAAU,SAASiD,QAAS/G,KAAKwG,OAAQQ,SAAUhH,KAAKgB,MAAM8E,WACjE9F,KAAKgB,MAAM8E,WAAazE,EAAAC,EAAAC,cAAA,QAAMuC,UAAU,cAD7C,UAIAzC,EAAAC,EAAAC,cAAA,UAAQuC,UAAU,SAASiD,QAAS/G,KAAK4G,cAAeI,SAAUhH,KAAKgB,MAAM8E,WAA7E,mBACqB9F,KAAKgB,MAAM+E,SAAS3G,OADzC,KAGAiC,EAAAC,EAAAC,cAAA,UAAQuC,UAAU,eAAeiD,QAAS/G,KAAK6G,aAA/C,gBAGAxF,EAAAC,EAAAC,cAAA,QAAMwF,QAAS/G,KAAKgG,cAChB3E,EAAAC,EAAAC,cAAA,OAAKwF,QAAStB,GACVpE,EAAAC,EAAAC,cAAC6B,EAAD,QAGR/B,EAAAC,EAAAC,cAAC0F,EAAD,MACA5F,EAAAC,EAAAC,cAACoC,EAAD,CAAiBL,KAAK,QACtBjC,EAAAC,EAAAC,cAAA,KAAGuC,UAAU,YAAYoD,KAAK,+BAA9B,wCA9ChB/D,EAAA,CAAyBrB,aCPnBc,EAAOuE,SAASC,eAAe,QACrCxE,GACIyE,IAASjG,OACLC,EAAAC,EAAAC,cAAC+F,EAAM1E,KAAP,KACIvB,EAAAC,EAAAC,cAACgG,EAAD,OAEJ3E","file":"static/js/main.ce3eaf55.chunk.js","sourcesContent":["/**\n * This file is part of react-rewired which is released under MIT license.\n *\n * The LICENSE file can be found in the root directory of this project.\n *\n * @flow\n */\nimport React from 'react';\n\ntype Combined<StoreProps, OwnProps> = $Exact<{ ...StoreProps, ...OwnProps }>;\nexport type UnwiredComponent<StoreProps, OwnProps> = React$ComponentType<Combined<StoreProps, OwnProps>>;\n\nexport type SetFunctionParam<S> = $Shape<S> | (S => $Shape<S>);\ntype SetFunction<S> = (SetFunctionParam<S>) => void;\ntype RootProps = {| children: React$Element<*> |};\ntype Root = React$ComponentType<RootProps>;\n\nexport type WiredStore<State: Object> = {\n    set: SetFunction<State>,\n    get: void => State,\n    root: Root,\n    wire: <StoreProps: Object, OwnProps: Object>(\n        component: UnwiredComponent<StoreProps, OwnProps>,\n        storeToProps: (State) => StoreProps\n    ) => React$ComponentType<OwnProps>,\n};\nexport type WiredNode<N: Object> = $Shape<N>;\n\nconst _symbol = (Symbol && Symbol.for) || String;\nconst $$node: any = _symbol('__WIRED_NODE__');\nconst $$data: any = _symbol('__WIRED_DATA__');\n\nconst node = <N: Object>(data: N): WiredNode<N> => {\n    data[$$node] = true;\n    return data;\n};\n\n// ATTENTION: No keys can be added afterwards. You need at least to initialize them with undefined\nconst _update = <State: Object>(p: State, n: Object): State => {\n    const r = {};\n    const keys = Object.keys(p);\n    for (let index = 0; index < keys.length; index++) {\n        const key = keys[index];\n        const prev = p[key];\n        const next = n[key];\n        if (!(key in n) || prev === next) {\n            r[key] = prev;\n        } else if (prev && prev[$$node]) {\n            r[key] = node(_update(prev, next));\n        } else {\n            r[key] = next;\n        }\n    }\n    return (r: any);\n};\n\nconst _set = <State: Object>(s: WiredStore<State>, param: Object | Function): void => {\n    const nextParams = typeof param === 'function' ? param(s[$$data]) : param;\n    s[$$data] = _update(s[$$data], nextParams);\n};\n\nconst store = <State: Object>(initialData: State): WiredStore<State> => {\n    const Context = React.createContext(initialData);\n    const s = {\n        set: (d: SetFunctionParam<State>): void => _set((s: any), d),\n        get: () => s[$$data],\n        [$$data]: initialData,\n        root: ((undefined: any): Root), // little flow hack\n        wire: <StoreProps: Object, OwnProps: Object>(\n            Component: UnwiredComponent<StoreProps, OwnProps>,\n            storeToProps: State => StoreProps\n        ): React$ComponentType<OwnProps> => {\n            const MC = (React: any).memo(Component);\n            const WiredUpdater = (p: OwnProps) => (\n                <Context.Consumer>{store => <MC {...storeToProps(store)} {...p} />}</Context.Consumer>\n            );\n            return WiredUpdater; // name for react dev tool\n        },\n    };\n    s.root = rootFor(Context, s);\n    return s;\n};\n\nconst rootFor = <State: Object>(Context: any, Store: WiredStore<State>): Root =>\n    class WiredRoot extends React.Component<RootProps, { s: State }> {\n        m = true;\n        update = () => this.m && this.setState({ s: Store[$$data] });\n        setStore = <S>(d: SetFunctionParam<S>): void => {\n            _set(Store, (d: any));\n            this.update();\n        };\n        state = { s: Store[$$data] };\n        componentDidMount = () => {\n            Store.set = this.setStore;\n            if (Store[$$data] !== this.state.s) this.update();\n        };\n        componentWillUnmount = () => {\n            this.m = false;\n        };\n        render = () => <Context.Provider value={this.state.s}>{this.props.children}</Context.Provider>;\n    };\n\nexport const Wired = { store, node };\n","// @flow\n\nimport { Wired, type WiredNode } from './react-rewired';\n\ntype BallState = { position: { top: number, left: number }, color: string };\nconst ballInitialState: BallState = { position: { top: 200, left: 200 }, color: '#000000' };\n\ntype Rerenders = { App: number, Ball: number };\nexport type RerenderKeys = $Keys<Rerenders>;\nconst initialRerenders: Rerenders = { App: 0, Ball: 0 };\n\nexport type State = {\n    ball: WiredNode<BallState>,\n    rerenders: WiredNode<Rerenders>,\n};\n\nexport const Store = Wired.store<State>({\n    ball: Wired.node(ballInitialState),\n    rerenders: Wired.node(initialRerenders),\n});\n","// @flow\n\nimport { type RerenderKeys, Store } from './store';\n\nconst increaseCounter = (name: RerenderKeys) =>\n    Store.set(({ rerenders }) => ({ rerenders: { [name]: rerenders[name] + 1 } }));\n\nconst increaseCounterNextTick = (name: RerenderKeys) => window.setTimeout(() => increaseCounter(name), 0);\n\ntype RerenderCounterProps = {| name: RerenderKeys |};\n\nexport const RerenderCounter = ({ name }: RerenderCounterProps) => {\n    increaseCounterNextTick(name);\n    return null;\n};\n","// @flow\n\nimport React from 'react';\nimport { Store } from './store';\nimport type { State } from './store';\nimport { RerenderCounter } from './RerenderCounter';\n\ntype BallStoreProps = {| color: string, top: number, left: number |};\ntype BallOwnProps = {||};\ntype BallProps = {| ...BallOwnProps, ...BallStoreProps |};\n\nconst BallContainer = ({ color, top, left }: BallProps) => (\n    <div\n        className=\"ball\"\n        style={{\n            backgroundColor: color,\n            top: top - 20 + 'px',\n            left: left - 20 + 'px',\n        }}>\n        <RerenderCounter name=\"Ball\" />\n    </div>\n);\n\nexport const Ball = Store.wire<BallStoreProps, BallOwnProps>(BallContainer, (state: State) => ({\n    top: state.ball.position.top,\n    left: state.ball.position.left,\n    color: state.ball.color,\n}));\n","/**\n * This file is part of morfi which is released under MIT license.\n *\n * The LICENSE file can be found in the root directory of this project.\n *\n * @flow\n */\n\nimport React from 'react';\nimport './DisplayValues.css';\nimport { Store } from './store';\n\nconst sanitize = (str: string): string => {\n    return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n};\n\nconst span = (className: string, value: string): string => `<span class=\"${className}\">${value}</span>`;\n\nconst withMargin = (innerHTML: string): string => `<div class=\"ml-3\"><p>${innerHTML}</p></div>`;\n\nconst _htmlForObject = (o: Object, firstValueOverride: boolean = true): string => {\n    let result = '';\n    let firstValue = firstValueOverride;\n    for (let key in o) {\n        if (o.hasOwnProperty(key)) {\n            const value = o[key];\n            if (!firstValue) {\n                result += ',</p><p>';\n            } else {\n                firstValue = false;\n            }\n            result += span('prop', key);\n            result += ': ';\n            const valueType = value === null ? 'null' : typeof value;\n            switch (valueType) {\n                case 'string':\n                    result += span('string', `\"${sanitize((value: any))}\"`);\n                    continue;\n                case 'boolean':\n                case 'number':\n                case 'undefined':\n                case 'null':\n                    result += span(valueType, String(value));\n                    continue;\n                case 'object':\n                    if (Array.isArray(value)) {\n                        result += sanitize(JSON.stringify(value));\n                    } else {\n                        result += `{</p>${withMargin(_htmlForObject((value: any)))}<p>}`;\n                    }\n                    continue;\n                default:\n                    result += sanitize(JSON.stringify(value));\n            }\n        }\n    }\n    return result;\n};\n\nconst htmlForObject = (o: Object): string => `<p>{</p>${withMargin(_htmlForObject(o))}</p>}`;\n\ntype DisplayValuesStoreProps = {| data: Object |};\ntype DisplayValuesOwnProps = {||};\ntype DisplayValuesProps = $Exact<{ ...DisplayValuesOwnProps, ...DisplayValuesStoreProps }>;\n\nconst DisplayValuesContainer = ({ data }: DisplayValuesProps) => (\n    <pre>\n        <code dangerouslySetInnerHTML={{ __html: htmlForObject(data) }} />\n    </pre>\n);\n\nexport const DisplayValues = Store.wire<DisplayValuesStoreProps, DisplayValuesOwnProps>(\n    DisplayValuesContainer,\n    state => ({\n        data: state,\n    })\n);\n","// @flow\n\nimport React, { Component } from 'react';\nimport { Ball } from './Ball';\nimport { Store } from './store';\nimport { DisplayValues } from './DisplayValues';\nimport { RerenderCounter } from './RerenderCounter';\n\nconst randomColor = () => '#xxxxxx'.replace(/x/g, () => Math.floor(Math.random() * 16).toString(16));\n\nconst stopEventPropagation = event => event.stopPropagation();\n\ntype AppProps = {||};\ntype AppState = { recording: boolean, replaying: boolean, recorded: Array<{ top: number, left: number }> };\n\nexport class App extends Component<AppProps, AppState> {\n    state: AppState = { recording: false, replaying: false, recorded: [] };\n    delegateBall = (event: any) => {\n        const nextPosition = { top: event.clientY + window.scrollY, left: event.clientX + window.scrollX };\n        if (this.state.recording) this.setState(state => ({ recorded: [...state.recorded, nextPosition] }));\n        Store.set({ ball: { position: nextPosition } });\n    };\n    record = () => this.setState(state => ({ recording: !state.recording }));\n    replay = () => {\n        if (this.state.recorded.length) {\n            this.setState({ replaying: true });\n            this.state.recorded.forEach((v, i) =>\n                window.setTimeout(() => Store.set({ ball: { position: v, color: randomColor() } }), i * 500)\n            );\n            window.setTimeout(() => this.setState({ replaying: false }), this.state.recorded.length * 500);\n        }\n    };\n    deleteRecords = () => this.state.recorded.length && this.setState({ recorded: [] });\n    changeColor = () => Store.set({ ball: { color: randomColor() } });\n    render() {\n        return (\n            <div className=\"App\">\n                <header className=\"App-header\">\n                    <h1 className=\"App-title\">Welcome to react-rewired</h1>\n                </header>\n                <button className=\"record\" onClick={this.record} disabled={this.state.replaying}>\n                    {this.state.recording && <span className=\"recording\" />}\n                    Record\n                </button>\n                <button className=\"replay\" onClick={this.replay} disabled={this.state.replaying}>\n                    {this.state.replaying && <span className=\"replaying\" />}\n                    Replay\n                </button>\n                <button className=\"delete\" onClick={this.deleteRecords} disabled={this.state.replaying}>\n                    Delete Records ({this.state.recorded.length})\n                </button>\n                <button className=\"change-color\" onClick={this.changeColor}>\n                    Change Color\n                </button>\n                <main onClick={this.delegateBall}>\n                    <div onClick={stopEventPropagation}>\n                        <Ball />\n                    </div>\n                </main>\n                <DisplayValues />\n                <RerenderCounter name=\"App\" />\n                <a className=\"perf-link\" href=\"/react-rewired/performance/\">\n                    Performance comparison to Redux\n                </a>\n            </div>\n        );\n    }\n}\n","// @flow\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport { Store } from './store';\n\nconst root = document.getElementById('root');\nroot &&\n    ReactDOM.render(\n        <Store.root>\n            <App />\n        </Store.root>,\n        root\n    );\n"],"sourceRoot":""}